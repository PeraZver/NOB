<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>The map of NOB</title>
	<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
	<link rel="stylesheet" href="css/styles.css">
	<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
	<link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css2?family=Red+October&display=swap" rel="stylesheet">
</head>

<body>
	<div class="title">
		<div class="main-title">N O B</div>
		<div class="subtitle">
			People's Liberation War <br> 
			in Yugoslavia 1941-1945
		</div>
	</div>
	<div class="container">
		<!-- Hamburger Menu Button (visible only on mobile) -->
		<button id="menu-toggle" class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
			<span class="hamburger-icon"></span>
		</button>
		
		<div class="menu-wrapper">	
		<!-- Search Box -->
		<div class="search-container">
			<input type="text" id="search-box" placeholder="Search military units..." autocomplete="off">
			<div id="suggestions" class="suggestions"></div>
		</div>
		<!-- Menu Section -->
		<div class="menu-section">
			<ul class="menu">
				<!-- Calendar Button -->
				<li id="toggleYearsMenu" class="calendar-button" title="Toggle year filter">ðŸ“…</li>
				
				<!-- Formations Button with Submenu -->
				<li class="menu-item-with-submenu">
					<button id="toggleFormations" class="menu-button">Formations</button>
					<ul class="submenu" id="formationsSubmenu">
						<li id="toggleOccupation">Occupation</li>
						<li id="toggleDetachments">Detachments</li>
						<li id="toggleBrigades">Brigades</li>
						<li id="toggleDivisions">Divisions</li>
						<li id="toggleCorps">Corps</li>
					</ul>
				</li>
				
				<!-- Campaigns Button with Submenu -->
				<li class="menu-item-with-submenu">
					<button id="toggleCampaigns" class="menu-button">Campaigns</button>
					<ul class="submenu" id="campaignsSubmenu">
						<li id="toggleMovement">Movement</li>
						<li id="toggleBattles">Battles</li>
						<li id="toggleCrimes">Crimes</li>
					</ul>
				</li>
				
				<!-- About Button -->
				<li id="toggleAbout" class="menu-button-item">About</li>
				
				<!-- Campaign Trail Button (hidden by default, shown when brigade with campaigns is selected) -->
				<li id="toggleCampaign" style="display:none;" title="Show campaign trail">
					<img src="assets/icons/trail.svg" alt="Campaign trail" style="width: 24px; height: 24px;">
				</li>
			</ul>
		</div>
		</div>
		
		<!-- Timeline Slider - moved to main page -->
		<div class="timeline-container" id="timelineContainer">
			<div class="timeline-slider-wrapper">
				<div class="timeline-ticks" id="timelineTicks"></div>
				<div class="timeline-track-fill" id="timelineTrackFill"></div>
				<input type="range" min="0" max="49" value="0" class="timeline-slider timeline-slider-after" id="timelineSliderAfter">
				<input type="range" min="0" max="49" value="49" class="timeline-slider timeline-slider-before" id="timelineSliderBefore">
				<div class="timeline-tooltip" id="timelineTooltipAfter"></div>
				<div class="timeline-tooltip" id="timelineTooltipBefore"></div>
				<div class="timeline-labels">
					<span class="timeline-label" style="left: 0%;">1941</span>
					<span class="timeline-label" style="left: 18%;">1942</span>
					<span class="timeline-label" style="left: 42.5%;">1943</span>
					<span class="timeline-label" style="left: 67%;">1944</span>
					<span class="timeline-label" style="left: 91%;">1945</span>
				</div>
			</div>
		</div>
		
		<!-- Map and Sidebar Container -->
		<div class="map-sidebar-container">
			<div class="sidebar" id="sidebar">
				<div class="content" id="content">
					<!-- Content will be dynamically updated -->
				</div>
			</div>
			<div id="map" style="height: 100vh;"></div>
		</div>
		<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/leaflet-polylinedecorator@1.6.0/dist/leaflet.polylineDecorator.min.js"></script>
		<script type="module" src="js/menu.js"></script>
		<script type="module" src="js/map.js"></script>
		<script type="module" src="js/search.js"></script>
	</div>
</body>

</html>
